(this["webpackJsonpeasy-redux-example"]=this["webpackJsonpeasy-redux-example"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(21),l=n(4),i=n(16),c=n(3),s=function(){return a.a.createElement("nav",null,a.a.createElement("section",null,a.a.createElement(i.b,{to:"/"},"Dashboard"),a.a.createElement(i.b,{to:"/posts"},"Posts")))},u=function(){return a.a.createElement("section",null,a.a.createElement("h1",null,"Dashboard"),a.a.createElement("p",null,"This is the dashboard."),a.a.createElement(i.b,{to:"/posts",className:"button"},"View Posts"))},d=n(19),m=n(24),p=n.n(m),v=n(103),f=n(104),y=n(2);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function h(e,t){try{var n=e()}catch(o){return t(o)}return n&&n.then?n.then(void 0,t):n}var g=function(e){var t=e.api,n=e.method,o=e.url,a=e.params,r=e.body,l=e.config;try{var i=function(){return console.log("responseresponse",c),c};n=n.toLowerCase();var c=null,s=function(e,t){return Object(y.isEmpty)(t)?e:e.replace(/\[(.*?)\]/g,(function(e,n,o){return""+t[n]}))}(o,a),u=null,d=h((function(){var e=function(){if("get"===n||"delete"===n){var e=function(){c=u},o=function(){if(Object(y.isEmpty)(t)){var e=function(e){function t(e){o||(u=e)}return o?t(u=e):Promise.resolve(p.a[n](s,l)).then(t)},o=Object(y.isEmpty)(l);return o?Promise.resolve(p.a[n](s)).then(e):e(0)}var a=function(e){function o(e){r||(u=e)}return r?o(u=e):Promise.resolve(t[n](s,l)).then(o)},r=Object(y.isEmpty)(l);return r?Promise.resolve(t[n](s)).then(a):a(0)}();return o&&o.then?o.then(e):e()}var a=function(){if("post"===n||"put"===n){var e=function(){c=u},o=function(){if(Object(y.isEmpty)(t)){var e=function(e){function t(e){o||(u=e)}return o?t(u=e):Promise.resolve(p.a[n](s,r)).then(t)},o=Object(y.isEmpty)(l);return o?Promise.resolve(p.a[n](s,r,l)).then(e):e(0)}var a=function(e){function o(e){i||(u=e)}return i?o(u=e):Promise.resolve(t[n](s,r)).then(o)},i=Object(y.isEmpty)(l);return i?Promise.resolve(t[n](s,r,l)).then(a):a(0)}();return o&&o.then?o.then(e):e()}console.error("Ensure your method please")}();if(a&&a.then)return a.then((function(){}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){e,console.log(e)}));return Promise.resolve(d&&d.then?d.then(i):i())}catch(m){return Promise.reject(m)}},E=function(e){var t=e.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();return Object(v.a)("START_LOADING_"+t,""+t,"STOP_LOADING_"+t,"ERROR_"+t)},O=function(e){var t={};return null===e||void 0===e||e.map((function(e){for(var n=e.api,o=e.name,a=e.url,r=e.method,l=e.config,i=E(o),c=0,s=function(){var s,u=Object(y.keys)(i).splice(c,4);t=b({},t,((s={})[o+"Action"]=function(t){return function(o){try{var c;o(i[u[0]](!0));var s=h((function(){function s(){Object(y.has)(e,"setPayload")?o(i[u[1]](null===e||void 0===e?void 0:e.setPayload({data:t,res:c}))):o(i[u[1]](c.data)),o(i[u[2]](!1))}var d=function(){if(Object(y.isEmpty)(n)){var e=function(e){function n(e){o||(c=e)}return o?n(c=e):Promise.resolve(g({method:r,url:a,body:"get"==r?"":t,config:l})).then(n)},o=Object(y.has)(t,"params");return o?Promise.resolve(g({method:r,url:a,params:null===t||void 0===t?void 0:t.params,body:Object(y.has)(t,"body")&&"get"==r?"":t.body,config:l})).then(e):e(0)}var i=function(e){function o(e){s||(c=e)}return s?o(c=e):Promise.resolve(g({api:n,method:r,url:a,body:"get"==r?"":t,config:l})).then(o)},s=Object(y.has)(t,"params");return s?Promise.resolve(g({api:n,method:r,url:a,params:null===t||void 0===t?void 0:t.params,body:Object(y.has)(t,"body")&&"get"==r?"":t.body,config:l})).then(i):i(0)}();return d&&d.then?d.then(s):s()}),(function(e){o(i[u[2]](!1)),o(i[u[3]](e))}));return Promise.resolve(s&&s.then?s.then((function(){})):void 0)}catch(d){return Promise.reject(d)}}},s)),c+=4};c<Object(y.keys)(i).length;)s()})),t},j=function(e){var t={},n={};return e.map((function(e){try{var o,a,r,l=e.key,i=e.stateKey,c=e.initStateKey,s=e.setState,u=l.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();return n=b({},n,((a={})[i]=b({},n[i],((o={data:c})["loading"+(l.charAt(0).toUpperCase()+l.slice(1))]=!1,o["error"+(l.charAt(0).toUpperCase()+l.slice(1))]="",o)),a)),Object(y.has)(e,"anotherActions")&&(null===e||void 0===e||e.anotherActions.map((function(e){var t,o;n=b({},n,((o={})[i]=b({},n[i],((t={})["loading"+((null===e||void 0===e?void 0:e.key.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.key.slice(1)))]=!1,t["error"+((null===e||void 0===e?void 0:e.key.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.key.slice(1)))]="",t)),o))}))),Object(y.has)(e,"anotherActions")&&e.anotherActions.map((function(e){var n,o=null===e||void 0===e?void 0:e.key.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();t=b({},t,((n={})[o]={next:function(t,n){var o,a;return Object(y.has)(e,"setState")?b({},t,((o={})[i]=b({},t[i],{data:null===e||void 0===e?void 0:e.setState(t[i],n)}),o)):b({},t,((a={})[i]=b({},t[i],{data:null===n||void 0===n?void 0:n.payload}),a))}},n["START_LOADING_"+o]={next:function(t,n){var o,a;return b({},t,((a={})[i]=b({},t[i],((o={})["loading"+((null===e||void 0===e?void 0:e.key.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.key.slice(1)))]=!0,o)),a))}},n["STOP_LOADING_"+o]={next:function(t,n){var o,a;return b({},t,((a={})[i]=b({},t[i],((o={})["loading"+((null===e||void 0===e?void 0:e.key.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.key.slice(1)))]=!1,o)),a))}},n["ERROR_"+o]={next:function(t,n){var o,a;return b({},t,((a={})[i]=b({},t[i],((o={})["error"+((null===e||void 0===e?void 0:e.key.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.key.slice(1)))]=n.payload,o)),a))}},n))})),t=b({},t,((r={})[u]={next:function(t,n){var o,a;return Object(y.has)(e,"setState")?b({},t,((o={})[i]=b({},t[i],{data:s(t[i],n)}),o)):b({},t,((a={})[i]=b({},t[i],{data:null===n||void 0===n?void 0:n.payload}),a))}},r["START_LOADING_"+u]={next:function(e,t){var n,o;return b({},e,((o={})[i]=b({},e[i],((n={})["loading"+(l.charAt(0).toUpperCase()+l.slice(1))]=!0,n)),o))}},r["STOP_LOADING_"+u]={next:function(e,t){var n,o;return b({},e,((o={})[i]=b({},e[i],((n={})["loading"+(l.charAt(0).toUpperCase()+l.slice(1))]=!1,n)),o))}},r["ERROR_"+u]={next:function(e,t){var n,o;return b({},e,((o={})[i]=b({},e[i],((n={})["error"+(l.charAt(0).toUpperCase()+l.slice(1))]=t.payload,n)),o))}},r)),Promise.resolve()}catch(d){return Promise.reject(d)}})),Object(f.a)(t,n)},P=O([{name:"getPosts",url:"http://localhost:7071/posts",method:"get",setPayload:function(e){e.data;var t=e.res;return console.log("data",JSON.stringify(t.data)),t.data}},{name:"addPost",url:"http://localhost:7071/posts",method:"POST",setPayload:function(e){var t=e.data,n=e.res;return console.log("data",{data:t,res:n}),n.data},config:{headers:{"Content-type":"application/json"}}},{name:"updatePost",url:"http://localhost:7071/posts/[id]",method:"PUT",setPayload:function(e){var t=e.data,n=e.res;return console.log("data",{data:t,res:n}),n.data},config:{headers:{"Content-type":"application/json"}}},{name:"deletePost",url:"http://localhost:7071/posts/[id]",method:"DELETE",setPayload:function(e){var t=e.data,n=e.res;return console.log("delete",{data:t,res:n}),t.params.id},config:{headers:{"Content-type":"application/json"}}}]),S=P.getPostsAction,A=P.addPostAction,C=P.updatePostAction,k=P.deletePostAction,x=n(53),I=n.n(x);var N=function(e){var t=e.children,n=e.modalIsOpen,o=e.toggleModal;return a.a.createElement(I.a,{isOpen:n,onRequestClose:o,className:"mymodal",overlayClassName:"myoverlay",contentLabel:"Example Modal"},t)},_=(n(96),function(e){var t=e.post,n=e.excerpt,r=Object(l.b)(),c=(Object(l.c)((function(e){var t,n;return null===(t=e.posts)||void 0===t||null===(n=t.posts)||void 0===n?void 0:n.loadingUpdatePost})),a.a.useState(!1)),s=Object(d.a)(c,2),u=s[0],m=s[1],p=a.a.useState(null===t||void 0===t?void 0:t.title),v=Object(d.a)(p,2),f=v[0],y=v[1],b=a.a.useState(null===t||void 0===t?void 0:t.body),h=Object(d.a)(b,2),g=h[0],E=h[1];return Object(o.useEffect)((function(){E(null===t||void 0===t?void 0:t.body),y(null===t||void 0===t?void 0:t.title)}),[null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.body]),a.a.createElement(a.a.Fragment,null,a.a.createElement("article",{className:n?"post-excerpt":"post"},a.a.createElement("h2",null,null===t||void 0===t?void 0:t.title),a.a.createElement("p",null,n?null===t||void 0===t?void 0:t.body.substring(0,100):null===t||void 0===t?void 0:t.body),n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(i.b,{to:"/posts/".concat(null===t||void 0===t?void 0:t.id),className:"button"},"View"),a.a.createElement("div",{className:"button",onClick:function(){m(!0)}},"Update"),a.a.createElement("div",{className:"button",onClick:function(){r(k({params:{id:null===t||void 0===t?void 0:t.id}}))}},"Delete"))),a.a.createElement(N,{modalIsOpen:u,toggleModal:function(){m(!u)},contentLabel:"Example Modal"},a.a.createElement("form",null,a.a.createElement("h1",null,"Update Post #",null===t||void 0===t?void 0:t.id),a.a.createElement("label",null,"Title:",a.a.createElement("input",{name:"title",type:"text",value:f,onChange:function(e){return y(e.target.value)},required:!0})),a.a.createElement("label",null,"Body:",a.a.createElement("textarea",{name:"body",type:"text",value:g,onChange:function(e){return E(e.target.value)},required:!0})),a.a.createElement("button",{className:"button",onClick:function(){r(C({body:{title:f,body:g},params:{id:null===t||void 0===t?void 0:t.id}})),m(!1)}},"Submit"))))}),U=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){var t,n;return null===(t=e.posts)||void 0===t||null===(n=t.posts)||void 0===n?void 0:n.loadingGetPosts})),n=Object(l.c)((function(e){var t,n;return null===(t=e.posts)||void 0===t||null===(n=t.posts)||void 0===n?void 0:n.loadingAddPost})),r=Object(l.c)((function(e){var t;return null===(t=e.posts.posts)||void 0===t?void 0:t.data})),i=a.a.useState(!1),c=Object(d.a)(i,2),s=c[0],u=c[1],m=a.a.useState(""),p=Object(d.a)(m,2),v=p[0],f=p[1],y=a.a.useState(""),b=Object(d.a)(y,2),h=b[0],g=b[1];Object(o.useEffect)((function(){e(S())}),[e]);return a.a.createElement("section",null,a.a.createElement("h1",null,"Posts"),a.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},a.a.createElement("p",null,a.a.createElement("strong",null,"Total:",null===r||void 0===r?void 0:r.length)),a.a.createElement("button",{className:"button",onClick:function(){u(!0)}},n?"...Loading":"Add Post"),a.a.createElement(N,{modalIsOpen:s,contentLabel:"Example Modal",toggleModal:function(){u(!s)}},a.a.createElement("form",null,a.a.createElement("h1",null,"Add Post"),a.a.createElement("label",null,"Title:",a.a.createElement("input",{name:"title",type:"text",value:v,onChange:function(e){return f(e.target.value)},required:!0})),a.a.createElement("label",null,"Body:",a.a.createElement("textarea",{name:"body",type:"text",value:h,onChange:function(e){return g(e.target.value)},required:!0})),a.a.createElement("button",{className:"button",onClick:function(){e(A({title:v,body:h,userId:1})),u(!1),f(""),g("")}},"Submit")))),t?a.a.createElement("p",null,"Loading posts..."):null===r||void 0===r?void 0:r.map((function(e){return a.a.createElement(_,{key:e.id,post:e,excerpt:!0})})))},T=n(30),B=O([{action:{name:"getPostById",url:"http://localhost:7071/posts/[id]",method:"get",config:{headers:{}},setPayload:function(e){e.data;var t=e.res;return console.log("data",JSON.stringify(t.data)),t.data}},reducer:{stateKey:"postById",initStateKey:{},setState:function(e,t){return console.log({post:e,action:t}),Object(T.a)({},t.payload)}}}]).getPostByIdAction,L=O([{name:"getComments",url:"http://localhost:7071/comments?postId=[postId]",method:"get"}]).getCommentsAction,R=function(e){var t=e.comment;return a.a.createElement("aside",{className:"comment"},a.a.createElement("h2",null,t.title),a.a.createElement("h3",null,t.email),a.a.createElement("p",null,t.body))},G=function(e){var t=e.match,n=Object(l.b)(),r=Object(l.c)((function(e){var t,n,o,a;return{loadingGetPostById:null===(t=e.postById)||void 0===t||null===(n=t.postById)||void 0===n?void 0:n.loading,loadingGetComments:null===(o=e.comments)||void 0===o||null===(a=o.comments)||void 0===a?void 0:a.loading}})),i=r.loadingGetPostById,c=r.loadingGetComments,s=Object(l.c)((function(e){var t;return null===(t=e.postById.postById)||void 0===t?void 0:t.data})),u=Object(l.c)((function(e){var t;return null===(t=e.comments.comments)||void 0===t?void 0:t.data}));Object(o.useEffect)((function(){var e=t.params.id;n(B({params:{id:e}})),n(L({params:{postId:e}}))}),[n,t]);return a.a.createElement("section",null,i?a.a.createElement("p",null,"Loading post..."):a.a.createElement(_,{post:s}),a.a.createElement("h2",null,"Comments"),c?a.a.createElement("p",null,"Loading comments..."):u.map((function(e){return a.a.createElement(R,{key:e.id,comment:e})})))},D=function(){return a.a.createElement(i.a,null,a.a.createElement(s,null),a.a.createElement(c.d,null,a.a.createElement(c.b,{exact:!0,path:"/",component:u}),a.a.createElement(c.b,{exact:!0,path:"/posts",component:U}),a.a.createElement(c.b,{exact:!0,path:"/posts/:id",component:G}),a.a.createElement(c.a,{to:"/"})))},K=(n(97),n(9)),w=(n(98),n(54)),M=n(39),q=n(55),J=n.n(q),Z=n(31),F=j([{key:"getPosts",stateKey:"posts",initStateKey:[],anotherActions:[{key:"updatePost",setState:function(e,t){return console.log({posts:e,action:t}),Object(Z.a)(null===e||void 0===e?void 0:e.data.map((function(e){return e.id===t.payload.id?t.payload:e})))}},{key:"deletePost",setState:function(e,t){return console.log({posts:e,action:t}),Object(Z.a)(null===e||void 0===e?void 0:e.data.filter((function(e){return e.id!==t.payload})))}},{key:"addPost",setState:function(e,t){return console.log({posts:e,action:t}),[t.payload].concat(Object(Z.a)(null===e||void 0===e?void 0:e.data))}}]}]),V=j([{key:"getPostById",stateKey:"postById",initStateKey:{},setState:function(e,t){return console.log({post:e,action:t}),Object(T.a)({},t.payload)}}]),z=j([{key:"getComments",stateKey:"comments",initStateKey:[]}]),H=Object(K.combineReducers)({posts:F,postById:V,comments:z}),Q={key:"root",storage:J.a},W=[w.a],X=Object(M.a)(Q,H),Y=function(){var e=K.applyMiddleware.apply(void 0,W);var t=Object(K.createStore)(X,e);return{store:t,persistor:Object(M.b)(t)}},$=n(56),ee=Y(),te=ee.persistor,ne=ee.store;Object(r.render)(a.a.createElement(l.a,{store:ne},a.a.createElement($.a,{loading:null,persistor:te},a.a.createElement(D,null))),document.getElementById("root"))},57:function(e,t,n){e.exports=n(101)},96:function(e,t,n){},97:function(e,t,n){}},[[57,1,2]]]);
//# sourceMappingURL=main.e30fbf45.chunk.js.map