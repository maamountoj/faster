(this["webpackJsonpfasti-redux-example"]=this["webpackJsonpfasti-redux-example"]||[]).push([[0],{48:function(e,t,n){e.exports=n(80)},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(24),r=n(17),s=n(9),l=n(46),i=n(47),u=n(16),m=n(2),p=function(){return c.a.createElement("nav",null,c.a.createElement("section",null,c.a.createElement(u.b,{to:"/"},"Dashboard"),c.a.createElement(u.b,{to:"/posts"},"Posts")))},b=function(){return c.a.createElement("section",null,c.a.createElement("h1",null,"Dashboard"),c.a.createElement("p",null,"This is the dashboard."),c.a.createElement(u.b,{to:"/posts",className:"button"},"View Posts"))},d=n(4),f=n(19),h=n.n(f),j=n(29),O=n(23),g=n.n(O),x=n(82),y=n(83),E=n(3),v=function(e,t){var n,a=/\[(.*?)\]/g;return Object(E.isEmpty)(t)?n=e:(e.replace(a,(function(e,t,n){return console.log("".concat(n,", ").concat(t))})),n=e.replace(a,(function(e,n,a){return"".concat(t[n])}))),n},k=function(){var e=Object(j.a)(h.a.mark((function e(t){var n,a,c,o,r,s,l,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.api,a=t.method,c=t.url,o=t.params,r=t.body,s=t.config,a=a.toLowerCase(),console.log({method:a,url:c,params:o,body:r,config:s}),l=null,i=v(c,o),u=null,e.prev=6,"get"!==a&&"delete"!==a){e.next=32;break}if(Object(E.isEmpty)(n)){e.next=20;break}if(!Object(E.isEmpty)(s)){e.next=15;break}return e.next=12,n[a](i);case 12:u=e.sent,e.next=18;break;case 15:return e.next=17,n[a](i,s);case 17:u=e.sent;case 18:e.next=29;break;case 20:if(!Object(E.isEmpty)(s)){e.next=26;break}return e.next=23,g.a[a](i);case 23:u=e.sent,e.next=29;break;case 26:return e.next=28,g.a[a](i,s);case 28:u=e.sent;case 29:l=u,e.next=58;break;case 32:if("post"!==a&&"put"!==a){e.next=57;break}if(Object(E.isEmpty)(n)){e.next=45;break}if(!Object(E.isEmpty)(s)){e.next=40;break}return e.next=37,n[a](i,r,s);case 37:u=e.sent,e.next=43;break;case 40:return e.next=42,n[a](i,r);case 42:u=e.sent;case 43:e.next=54;break;case 45:if(!Object(E.isEmpty)(s)){e.next=51;break}return e.next=48,g.a[a](i,r,s);case 48:u=e.sent,e.next=54;break;case 51:return e.next=53,g.a[a](i,r);case 53:u=e.sent;case 54:l=u,e.next=58;break;case 57:console.error("Ensure your method please");case 58:e.next=63;break;case 60:e.prev=60,e.t0=e.catch(6),console.log(e.t0);case 63:return console.log("responseresponse",l),e.abrupt("return",l);case 65:case"end":return e.stop()}}),e,null,[[6,60]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=e.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();return Object(x.a)("START_LOADING_".concat(t),"".concat(t),"STOP_LOADING_".concat(t))},A=function(e){var t={};return null===e||void 0===e||e.map((function(e){for(var n=e.api,a=e.name,c=e.url,o=e.method,r=e.config,s=P(a),l=0,i=function(){var i=Object(E.keys)(s).splice(l,3);t=Object(d.a)(Object(d.a)({},t),{},{["".concat(a,"Action")]:function(t){return function(){var a=Object(j.a)(h.a.mark((function a(l){var u;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l(s[i[0]](!0)),console.log(t),Object(E.isEmpty)(n)){a.next=14;break}if(!Object(E.has)(t,"params")){a.next=9;break}return a.next=6,k({api:n,method:o,url:c,params:null===t||void 0===t?void 0:t.params,body:Object(E.has)(t,"body")&&"get"==o?"":t.body,config:r});case 6:u=a.sent,a.next=12;break;case 9:return a.next=11,k({api:n,method:o,url:c,body:"get"==o?"":t,config:r});case 11:u=a.sent;case 12:a.next=23;break;case 14:if(!Object(E.has)(t,"params")){a.next=20;break}return a.next=17,k({method:o,url:c,params:null===t||void 0===t?void 0:t.params,body:Object(E.has)(t,"body")&&"get"==o?"":t.body,config:r});case 17:u=a.sent,a.next=23;break;case 20:return a.next=22,k({method:o,url:c,body:"get"==o?"":t,config:r});case 22:u=a.sent;case 23:Object(E.has)(e,"setPayload")?l(s[i[1]](null===e||void 0===e?void 0:e.setPayload({data:t,res:u}))):l(s[i[1]](u.data)),l(s[i[2]](!1));case 25:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}),l+=3};l<Object(E.keys)(s).length;)i()})),t},C=function(e){var t={},n={};return e.map((function(e){var a=e.key,c=e.stateKey,o=e.initStateKey,r=e.setState,s=a.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();n=Object(d.a)(Object(d.a)({},n),{},{[c]:o,["loading".concat(a.charAt(0).toUpperCase()+a.slice(1))]:!1}),t=Object(d.a)(Object(d.a)({},t),{},{[s]:{next:function(t,n){return Object(E.has)(e,"setState")?Object(d.a)(Object(d.a)({},t),{},{[c]:r(t,n)}):Object(d.a)(Object(d.a)({},t),{},{[c]:null===n||void 0===n?void 0:n.payload})}},["START_LOADING_".concat(s)]:{next:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{["loading".concat(a.charAt(0).toUpperCase()+a.slice(1))]:!0})}},["STOP_LOADING_".concat(s)]:{next:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{["loading".concat(a.charAt(0).toUpperCase()+a.slice(1))]:!1})}}})})),Object(y.a)(t,n)},S=A([{name:"getPosts",url:"https://jsonplaceholder.typicode.com/posts",method:"get"}]).getPostsAction,G=function(e){var t=e.post,n=e.excerpt;return c.a.createElement("article",{className:n?"post-excerpt":"post"},c.a.createElement("h2",null,null===t||void 0===t?void 0:t.title),c.a.createElement("p",null,n?null===t||void 0===t?void 0:t.body.substring(0,100):null===t||void 0===t?void 0:t.body),n&&c.a.createElement(u.b,{to:"/posts/".concat(null===t||void 0===t?void 0:t.id),className:"button"},"View Post"))},w=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.posts.loadingGetPosts})),n=Object(s.c)((function(e){return e.posts.posts}));Object(a.useEffect)((function(){e(S())}),[e]);return c.a.createElement("section",null,c.a.createElement("h1",null,"Posts"),t?c.a.createElement("p",null,"Loading posts..."):n.map((function(e){return c.a.createElement(G,{key:e.id,post:e,excerpt:!0})})))},_=A([{name:"getPost",url:"https://jsonplaceholder.typicode.com/posts/[id]",method:"get",config:{headers:{Authorization:"Bearer hjkhjkhjk"}},setPayload:function(e){return console.log(e),null===e||void 0===e?void 0:e.res.data}}]).getPostAction,I=A([{name:"getComments",url:"https://jsonplaceholder.typicode.com/comments?postId=[postId]",method:"get"}]).getCommentsAction,K=function(e){var t=e.comment;return c.a.createElement("aside",{className:"comment"},c.a.createElement("h2",null,t.title),c.a.createElement("h3",null,t.email),c.a.createElement("p",null,t.body))},L=function(e){var t=e.match,n=Object(s.b)(),o=Object(s.c)((function(e){return{loadingGetPost:e.post.loadingGetPost,loadingGetComments:e.comments.loadingGetComments}})),r=o.loadingGetPost,l=o.loadingGetComments,i=Object(s.c)((function(e){return e})),u=Object(s.c)((function(e){return e.post.post})),m=Object(s.c)((function(e){return e.comments.comments}));Object(a.useEffect)((function(){var e=t.params.id;n(_({params:{id:e}})),n(I({params:{postId:e}}))}),[n,t]);return c.a.createElement("section",null,console.log(i),r?c.a.createElement("p",null,"Loading post..."):c.a.createElement(G,{post:u}),c.a.createElement("h2",null,"Comments"),l?c.a.createElement("p",null,"Loading comments..."):m.map((function(e){return c.a.createElement(K,{key:e.id,comment:e})})))},N=function(){return c.a.createElement(u.a,null,c.a.createElement(p,null),c.a.createElement(m.d,null,c.a.createElement(m.b,{exact:!0,path:"/",component:b}),c.a.createElement(m.b,{exact:!0,path:"/posts",component:w}),c.a.createElement(m.b,{exact:!0,path:"/posts/:id",component:L}),c.a.createElement(m.a,{to:"/"})))},T=C([{key:"getPosts",stateKey:"posts",initStateKey:[]}]),D=C([{key:"getPost",stateKey:"post",initStateKey:{},setState:function(e,t){return console.log({state:e,action:t}),t.payload}}]),U=C([{key:"getComments",stateKey:"comments",initStateKey:[]}]),R=Object(r.combineReducers)({posts:T,post:D,comments:U}),B=(n(79),Object(r.createStore)(R,Object(i.composeWithDevTools)(Object(r.applyMiddleware)(l.a))));Object(o.render)(c.a.createElement(s.a,{store:B},c.a.createElement(N,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.998aa019.chunk.js.map