(this["webpackJsonpfasti-redux-example"]=this["webpackJsonpfasti-redux-example"]||[]).push([[0],{49:function(e,t,n){e.exports=n(81)},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(24),r=n(17),s=n(9),l=n(47),u=n(48),i=n(16),p=n(2),m=function(){return c.a.createElement("nav",null,c.a.createElement("section",null,c.a.createElement(i.b,{to:"/"},"Dashboard"),c.a.createElement(i.b,{to:"/posts"},"Posts")))},b=function(){return c.a.createElement("section",null,c.a.createElement("h1",null,"Dashboard"),c.a.createElement("p",null,"This is the dashboard."),c.a.createElement(i.b,{to:"/posts",className:"button"},"View Posts"))},d=n(4),f=n(36),O=n(19),j=n.n(O),h=n(29),x=n(23),y=n.n(x),E=n(83),g=n(84),k=n(3),v=function(e,t){var n,a=/\[(.*?)\]/g;return Object(k.isEmpty)(t)?n=e:(e.replace(a,(function(e,t,n){return console.log("".concat(n,", ").concat(t))})),n=e.replace(a,(function(e,n,a){return"".concat(t[n])}))),n},A=function(){var e=Object(h.a)(j.a.mark((function e(t){var n,a,c,o,r,s,l,u,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.api,a=t.method,c=t.url,o=t.params,r=t.body,s=t.config,a=a.toLowerCase(),console.log({method:a,url:c,params:o,body:r,config:s}),l=null,u=v(c,o),i=null,e.prev=6,"get"!==a&&"delete"!==a){e.next=32;break}if(Object(k.isEmpty)(n)){e.next=20;break}if(!Object(k.isEmpty)(s)){e.next=15;break}return e.next=12,n[a](u);case 12:i=e.sent,e.next=18;break;case 15:return e.next=17,n[a](u,s);case 17:i=e.sent;case 18:e.next=29;break;case 20:if(!Object(k.isEmpty)(s)){e.next=26;break}return e.next=23,y.a[a](u);case 23:i=e.sent,e.next=29;break;case 26:return e.next=28,y.a[a](u,s);case 28:i=e.sent;case 29:l=i.data,e.next=58;break;case 32:if("post"!==a&&"put"!==a){e.next=57;break}if(Object(k.isEmpty)(n)){e.next=45;break}if(!Object(k.isEmpty)(s)){e.next=40;break}return e.next=37,n[a](u,r,s);case 37:i=e.sent,e.next=43;break;case 40:return e.next=42,n[a](u,r);case 42:i=e.sent;case 43:e.next=54;break;case 45:if(!Object(k.isEmpty)(s)){e.next=51;break}return e.next=48,y.a[a](u,r,s);case 48:i=e.sent,e.next=54;break;case 51:return e.next=53,y.a[a](u,r);case 53:i=e.sent;case 54:l=i.data,e.next=58;break;case 57:console.error("Ensure your method please");case 58:e.next=63;break;case 60:e.prev=60,e.t0=e.catch(6),console.log(e.t0);case 63:return console.log("responseresponse",l),e.abrupt("return",l);case 65:case"end":return e.stop()}}),e,null,[[6,60]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=[],n=e.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();return t=[].concat(Object(f.a)(t),["START_LOADING_".concat(n),"".concat(n),"STOP_LOADING_".concat(n)]),E.a.apply(void 0,Object(f.a)(t))},w=function(e){var t={};return null===e||void 0===e||e.map((function(e){for(var n=e.api,a=e.name,c=e.url,o=e.method,r=e.config,s=P(a),l=0,u=function(){var u=Object(k.keys)(s).splice(l,3);t=Object(d.a)(Object(d.a)({},t),{},{["".concat(a,"Action")]:function(t){return function(){var a=Object(h.a)(j.a.mark((function a(l){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l(s[u[0]](!0)),console.log(t),Object(k.isEmpty)(n)){a.next=14;break}if(!Object(k.has)(t,"params")){a.next=9;break}return a.next=6,A({api:n,method:o,url:c,params:null===t||void 0===t?void 0:t.params,body:Object(k.has)(t,"body")&&"get"==o?"":t.body,config:r});case 6:i=a.sent,a.next=12;break;case 9:return a.next=11,A({api:n,method:o,url:c,body:"get"==o?"":t,config:r});case 11:i=a.sent;case 12:a.next=23;break;case 14:if(!Object(k.has)(t,"params")){a.next=20;break}return a.next=17,A({method:o,url:c,params:null===t||void 0===t?void 0:t.params,body:Object(k.has)(t,"body")&&"get"==o?"":t.body,config:r});case 17:i=a.sent,a.next=23;break;case 20:return a.next=22,A({method:o,url:c,body:"get"==o?"":t,config:r});case 22:i=a.sent;case 23:Object(k.has)(e,"fn")?l(s[u[1]](null===e||void 0===e?void 0:e.fn({data:t,res:i}))):l(s[u[1]](i)),l(s[u[2]](!1));case 25:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}),l+=3};l<Object(k.keys)(s).length;)u()})),t},C=function(e){var t={},n={};return e.map((function(e){var a=e.key,c=e.stateKey,o=e.initStateKey,r=e.fn,s=a.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();n=Object(d.a)(Object(d.a)({},n),{},{[c]:o,["loading".concat(a.charAt(0).toUpperCase()+a.slice(1))]:!1}),t=Object(d.a)(Object(d.a)({},t),{},{[s]:{next:function(t,n){return Object(k.has)(e,"fn")?Object(d.a)(Object(d.a)({},t),{},{[c]:r(t,n)}):Object(d.a)(Object(d.a)({},t),{},{[c]:null===n||void 0===n?void 0:n.payload})}},["START_LOADING_".concat(s)]:{next:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{["loading".concat(a.charAt(0).toUpperCase()+a.slice(1))]:!0})}},["STOP_LOADING_".concat(s)]:{next:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{["loading".concat(a.charAt(0).toUpperCase()+a.slice(1))]:!1})}}})})),Object(g.a)(t,n)},_=w([{name:"getPosts",url:"https://jsonplaceholder.typicode.com/posts",method:"get"}]).getPostsAction,S=function(e){var t=e.post,n=e.excerpt;return c.a.createElement("article",{className:n?"post-excerpt":"post"},c.a.createElement("h2",null,t.title),c.a.createElement("p",null,n?t.body.substring(0,100):t.body),n&&c.a.createElement(i.b,{to:"/posts/".concat(t.id),className:"button"},"View Post"))},I=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.posts.loadingGetPosts})),n=Object(s.c)((function(e){return e.posts.posts}));Object(a.useEffect)((function(){e(_())}),[e]);return c.a.createElement("section",null,c.a.createElement("h1",null,"Posts"),t?c.a.createElement("p",null,"Loading posts..."):n.map((function(e){return c.a.createElement(S,{key:e.id,post:e,excerpt:!0})})))},K=w([{name:"getPost",url:"https://jsonplaceholder.typicode.com/posts/[id]",method:"get"}]).getPostAction,L=w([{name:"getComments",url:"https://jsonplaceholder.typicode.com/comments?postId=[postId]",method:"get"}]).getCommentsAction,N=function(e){var t=e.comment;return c.a.createElement("aside",{className:"comment"},c.a.createElement("h2",null,t.title),c.a.createElement("h3",null,t.email),c.a.createElement("p",null,t.body))},T=function(e){var t=e.match,n=Object(s.b)(),o=Object(s.c)((function(e){return{post:e.post.loadingGetPost,comments:e.comments.loading}})),r=Object(s.c)((function(e){return e})),l=Object(s.c)((function(e){return e.post.post})),u=Object(s.c)((function(e){return e.comments.comments}));Object(a.useEffect)((function(){var e=t.params.id;n(K({params:{id:e}})),n(L({params:{postId:e}}))}),[n,t]);return c.a.createElement("section",null,console.log(r),o.post?c.a.createElement("p",null,"Loading post..."):c.a.createElement(S,{post:l}),c.a.createElement("h2",null,"Comments"),o.comments?c.a.createElement("p",null,"Loading comments..."):u.map((function(e){return c.a.createElement(N,{key:e.id,comment:e})})))},D=function(){return c.a.createElement(i.a,null,c.a.createElement(m,null),c.a.createElement(p.d,null,c.a.createElement(p.b,{exact:!0,path:"/",component:b}),c.a.createElement(p.b,{exact:!0,path:"/posts",component:I}),c.a.createElement(p.b,{exact:!0,path:"/posts/:id",component:T}),c.a.createElement(p.a,{to:"/"})))},G=C([{key:"getPosts",stateKey:"posts",initStateKey:[]}]),U=C([{key:"getPost",stateKey:"post",initStateKey:{}}]),R=C([{key:"getComments",stateKey:"comments",initStateKey:[]}]),J=Object(r.combineReducers)({posts:G,post:U,comments:R}),V=(n(80),Object(r.createStore)(J,Object(u.composeWithDevTools)(Object(r.applyMiddleware)(l.a))));Object(o.render)(c.a.createElement(s.a,{store:V},c.a.createElement(D,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.929251fa.chunk.js.map