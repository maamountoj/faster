(this["webpackJsonpfasti-redux-example"]=this["webpackJsonpfasti-redux-example"]||[]).push([[0],{45:function(e,t,n){e.exports=n(76)},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(22),c=n(16),s=n(8),i=n(43),l=n(44),u=n(15),m=n(2),p=function(){return r.a.createElement("nav",null,r.a.createElement("section",null,r.a.createElement(u.b,{to:"/"},"Dashboard"),r.a.createElement(u.b,{to:"/posts"},"Posts")))},d=function(){return r.a.createElement("section",null,r.a.createElement("h1",null,"Dashboard"),r.a.createElement("p",null,"This is the dashboard."),r.a.createElement(u.b,{to:"/posts",className:"button"},"View Posts"))},f=n(21),h=n.n(f),b=n(78),v=n(79),y=n(3);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var E=function(e){var t=e.api,n=e.method,o=e.url,r=e.params,a=e.body,c=e.config;try{var s=function(){return console.log("responseresponse",i),i};n=n.toLowerCase(),console.log({method:n,url:o,params:r,body:a,config:c});var i=null,l=function(e,t){var n,o=/\[(.*?)\]/g;return Object(y.isEmpty)(t)?n=e:(e.replace(o,(function(e,t,n){return console.log(n+", "+t)})),n=e.replace(o,(function(e,n,o){return""+t[n]}))),n}(o,r),u=null,m=function(e,t){try{var n=e()}catch(o){return t(o)}return n&&n.then?n.then(void 0,t):n}((function(){var e=function(){if("get"===n||"delete"===n){var e=function(){i=u},o=function(){if(Object(y.isEmpty)(t)){var e=function(e){function t(e){o||(u=e)}return o?t(u=e):Promise.resolve(h.a[n](l,c)).then(t)},o=Object(y.isEmpty)(c);return o?Promise.resolve(h.a[n](l)).then(e):e(0)}var r=function(e){function o(e){a||(u=e)}return a?o(u=e):Promise.resolve(t[n](l,c)).then(o)},a=Object(y.isEmpty)(c);return a?Promise.resolve(t[n](l)).then(r):r(0)}();return o&&o.then?o.then(e):e()}var r=function(){if("post"===n||"put"===n){var e=function(){i=u},o=function(){if(Object(y.isEmpty)(t)){var e=function(e){function t(e){o||(u=e)}return o?t(u=e):Promise.resolve(h.a[n](l,a)).then(t)},o=Object(y.isEmpty)(c);return o?Promise.resolve(h.a[n](l,a,c)).then(e):e(0)}var r=function(e){function o(e){s||(u=e)}return s?o(u=e):Promise.resolve(t[n](l,a)).then(o)},s=Object(y.isEmpty)(c);return s?Promise.resolve(t[n](l,a,c)).then(r):r(0)}();return o&&o.then?o.then(e):e()}console.error("Ensure your method please")}();if(r&&r.then)return r.then((function(){}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){e,console.log(e)}));return Promise.resolve(m&&m.then?m.then(s):s())}catch(p){return Promise.reject(p)}},O=function(e){var t=e.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();return Object(b.a)("START_LOADING_"+t,""+t,"STOP_LOADING_"+t,"ERROR_"+t)},j=function(e){var t={};return null===e||void 0===e||e.map((function(e){for(var n=e.api,o=e.name,r=e.url,a=e.method,c=e.config,s=O(o),i=0,l=function(){var l,u=Object(y.keys)(s).splice(i,4);t=g({},t,((l={})[o+"Action"]=function(t){return function(o){try{var i,l=function(){Object(y.has)(e,"setPayload")?o(s[u[1]](null===e||void 0===e?void 0:e.setPayload({data:t,res:i}))):o(s[u[1]](i.data)),o(s[u[2]](!1)),o(s[u[3]](t.error))};o(s[u[0]](!0)),console.log(t);var m=function(){if(Object(y.isEmpty)(n)){var e=function(e){function n(e){o||(i=e)}return o?n(i=e):Promise.resolve(E({method:a,url:r,body:"get"==a?"":t,config:c})).then(n)},o=Object(y.has)(t,"params");return o?Promise.resolve(E({method:a,url:r,params:null===t||void 0===t?void 0:t.params,body:Object(y.has)(t,"body")&&"get"==a?"":t.body,config:c})).then(e):e(0)}var s=function(e){function o(e){l||(i=e)}return l?o(i=e):Promise.resolve(E({api:n,method:a,url:r,body:"get"==a?"":t,config:c})).then(o)},l=Object(y.has)(t,"params");return l?Promise.resolve(E({api:n,method:a,url:r,params:null===t||void 0===t?void 0:t.params,body:Object(y.has)(t,"body")&&"get"==a?"":t.body,config:c})).then(s):s(0)}();return Promise.resolve(m&&m.then?m.then(l):l())}catch(p){return Promise.reject(p)}}},l)),i+=4};i<Object(y.keys)(s).length;)l()})),t},P=function(e){var t={},n={};return e.map((function(e){var o,r,a=e.key,c=e.stateKey,s=e.initStateKey,i=e.setState,l=a.replace(/[A-Z]/g,(function(e){return"_"+e})).toUpperCase();n=g({},n,((o={})[c]={data:s,loading:!1,error:""},o)),t=g({},t,((r={})[l]={next:function(t,n){var o,r;return Object(y.has)(e,"setState")?g({},t,((o={})[c]=g({},t[c],{data:i(t,n)}),o)):g({},t,((r={})[c]=g({},t[c],{data:null===n||void 0===n?void 0:n.payload}),r))}},r["START_LOADING_"+l]={next:function(e,t){var n;return g({},e,((n={})[c]=g({},e[c],{loading:!0}),n))}},r["STOP_LOADING_"+l]={next:function(e,t){var n;return g({},e,((n={})[c]=g({},e[c],{loading:!1}),n))}},r["ERROR_"+l]={next:function(e,t){var n;return g({},e,((n={})[c]=g({},e[c],{error:t.payload}),n))}},r))})),Object(v.a)(t,n)},S=j([{name:"getPosts",url:"https://jsonplaceholder.typicode.com/posts",method:"get"}]).getPostsAction,x=function(e){var t=e.post,n=e.excerpt;return r.a.createElement("article",{className:n?"post-excerpt":"post"},r.a.createElement("h2",null,null===t||void 0===t?void 0:t.title),r.a.createElement("p",null,n?null===t||void 0===t?void 0:t.body.substring(0,100):null===t||void 0===t?void 0:t.body),n&&r.a.createElement(u.b,{to:"/posts/".concat(null===t||void 0===t?void 0:t.id),className:"button"},"View Post"))},k=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.posts.loadingGetPosts})),n=Object(s.c)((function(e){var t;return null===(t=e.posts.posts)||void 0===t?void 0:t.data}));Object(o.useEffect)((function(){e(S())}),[e]);return r.a.createElement("section",null,r.a.createElement("h1",null,"Posts"),t?r.a.createElement("p",null,"Loading posts..."):n.map((function(e){return r.a.createElement(x,{key:e.id,post:e,excerpt:!0})})))},A=j([{name:"getPost",url:"https://jsonplaceholder.typicode.com/posts/[id]",method:"get",config:{headers:{Authorization:"Bearer hjkhjkhjk"}},setPayload:function(e){return console.log(e),null===e||void 0===e?void 0:e.res.data}}]).getPostAction,_=j([{name:"getComments",url:"https://jsonplaceholder.typicode.com/comments?postId=[postId]",method:"get"}]).getCommentsAction,G=function(e){var t=e.comment;return r.a.createElement("aside",{className:"comment"},r.a.createElement("h2",null,t.title),r.a.createElement("h3",null,t.email),r.a.createElement("p",null,t.body))},I=function(e){var t=e.match,n=Object(s.b)(),a=Object(s.c)((function(e){return{loadingGetPost:e.post.loadingGetPost,loadingGetComments:e.comments.loadingGetComments}})),c=a.loadingGetPost,i=a.loadingGetComments,l=Object(s.c)((function(e){return e})),u=Object(s.c)((function(e){return e.post.post})),m=Object(s.c)((function(e){return e.comments.comments}));Object(o.useEffect)((function(){var e=t.params.id;n(A({params:{id:e}})),n(_({params:{postId:e}}))}),[n,t]);return r.a.createElement("section",null,console.log(l),c?r.a.createElement("p",null,"Loading post..."):r.a.createElement(x,{post:u}),r.a.createElement("h2",null,"Comments"),i?r.a.createElement("p",null,"Loading comments..."):m.map((function(e){return r.a.createElement(G,{key:e.id,comment:e})})))},C=function(){return r.a.createElement(u.a,null,r.a.createElement(p,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:d}),r.a.createElement(m.b,{exact:!0,path:"/posts",component:k}),r.a.createElement(m.b,{exact:!0,path:"/posts/:id",component:I}),r.a.createElement(m.a,{to:"/"})))},R=P([{key:"getPosts",stateKey:"posts",initStateKey:[]}]),K=P([{key:"getPost",stateKey:"post",initStateKey:{},setState:function(e,t){return console.log({state:e,action:t}),t.payload}}]),L=P([{key:"getComments",stateKey:"comments",initStateKey:[]}]),N=Object(c.combineReducers)({posts:R,post:K,comments:L}),T=(n(75),Object(c.createStore)(N,Object(l.composeWithDevTools)(Object(c.applyMiddleware)(i.a))));Object(a.render)(r.a.createElement(s.a,{store:T},r.a.createElement(C,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.c078a837.chunk.js.map